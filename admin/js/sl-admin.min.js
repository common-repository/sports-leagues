!function($){"use strict";$(function(){var map,marker,$longitude,$latitude,$btnReset,$inputSearch,initialZoom,defaultPosition,autocomplete;$("#anwp_sl_map_wrapper").length&&($longitude=$("#anwp_cmb2_map_input_longitude"),$latitude=$("#anwp_cmb2_map_input_latitude"),$btnReset=$("#anwp_cmb2_map_reset_btn"),$inputSearch=$("#anwp_cmb2_map_input_address"),initialZoom=$latitude.val()&&$longitude.val()?15:8,defaultPosition={lat:$latitude.val()?parseFloat($latitude.val()):51.556,lng:$longitude.val()?parseFloat($longitude.val()):-.279575},$inputSearch.keypress(function(e){13===parseInt(e.keyCode,10)&&e.preventDefault()}),map=new google.maps.Map(document.getElementById("anwp_sl_map_wrapper"),{center:defaultPosition,zoom:initialZoom}),marker=new google.maps.Marker({position:defaultPosition,draggable:!0,map:map}),(autocomplete=new google.maps.places.Autocomplete($inputSearch[0])).bindTo("bounds",map),google.maps.event.addListener(autocomplete,"place_changed",function(){var place=autocomplete.getPlace();place.geometry&&(place.geometry.viewport?map.fitBounds(place.geometry.viewport):(map.setCenter(place.geometry.location),map.setZoom(17)),marker.setPosition(place.geometry.location),$latitude.val(place.geometry.location.lat()),$longitude.val(place.geometry.location.lng()))}),google.maps.event.addListener(map,"click",function(e){marker.setPosition(e.latLng),$inputSearch.val(""),$latitude.val(e.latLng.lat()),$longitude.val(e.latLng.lng())}),google.maps.event.addListener(marker,"dragend",function(e){$latitude.val(e.latLng.lat()),$longitude.val(e.latLng.lng()),$inputSearch.val("")}),$btnReset.on("click",function(e){e.preventDefault(),$latitude.val(""),$longitude.val("")}))})}(jQuery),function(root,factory){"function"==typeof define&&define.amd?define([],function(){return factory(root)}):"object"==typeof exports?module.exports=factory(root):root.Gumshoe=factory(root)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(window){"use strict";function sortContents(contents){contents&&contents.sort(function(item1,item2){return getOffsetTop(item1.content)<getOffsetTop(item2.content)?-1:1})}function isAtBottom(){return window.innerHeight+window.pageYOffset>=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}function deactivate(items,settings){var li;items&&(li=items.nav.closest("li"))&&(li.classList.remove(settings.navClass),items.content.classList.remove(settings.contentClass),deactivateNested(li,settings),emitEvent("gumshoeDeactivate",li,{link:items.nav,content:items.content,settings:settings}))}var defaults={navClass:"active",contentClass:"active",nested:!1,nestedClass:"active",offset:0,reflow:!1,events:!0},emitEvent=function(type,elem,detail){detail.settings.events&&(type=new CustomEvent(type,{bubbles:!0,cancelable:!0,detail:detail}),elem.dispatchEvent(type))},getOffsetTop=function(elem){var location=0;if(elem.offsetParent)for(;elem;)location+=elem.offsetTop,elem=elem.offsetParent;return 0<=location?location:0},isInView=function(elem,settings,bottom){elem=elem.getBoundingClientRect(),settings=function(settings){return"function"==typeof settings.offset?parseFloat(settings.offset()):parseFloat(settings.offset)}(settings);return bottom?parseInt(elem.bottom,10)<(window.innerHeight||document.documentElement.clientHeight):parseInt(elem.top,10)<=settings},useLastItem=function(item,settings){return!(!isAtBottom()||!isInView(item.content,settings,!0))},deactivateNested=function(nav,settings){settings.nested&&(nav=nav.parentNode.closest("li"))&&(nav.classList.remove(settings.nestedClass),deactivateNested(nav,settings))},activateNested=function(nav,settings){settings.nested&&(nav=nav.parentNode.closest("li"))&&(nav.classList.add(settings.nestedClass),activateNested(nav,settings))};return function(selector,options){function scrollHandler(event){timeout&&window.cancelAnimationFrame(timeout),timeout=window.requestAnimationFrame(publicAPIs.detect)}function resizeHandler(event){timeout&&window.cancelAnimationFrame(timeout),timeout=window.requestAnimationFrame(function(){sortContents(contents),publicAPIs.detect()})}var navItems,contents,current,timeout,settings,publicAPIs={setup:function(){navItems=document.querySelectorAll(selector),contents=[],Array.prototype.forEach.call(navItems,function(item){var content=document.getElementById(decodeURIComponent(item.hash.substr(1)));content&&contents.push({nav:item,content:content})}),sortContents(contents)}};publicAPIs.detect=function(){var active=function(contents,settings){var last=contents[contents.length-1];if(useLastItem(last,settings))return last;for(var i=contents.length-1;0<=i;i--)if(isInView(contents[i].content,settings))return contents[i]}(contents,settings);active?current&&active.content===current.content||(deactivate(current,settings),function(items,settings){var li;items&&(li=items.nav.closest("li"))&&(li.classList.add(settings.navClass),items.content.classList.add(settings.contentClass),activateNested(li,settings),emitEvent("gumshoeActivate",li,{link:items.nav,content:items.content,settings:settings}))}(active,settings),current=active):current&&(deactivate(current,settings),current=null)},publicAPIs.destroy=function(){current&&deactivate(current,settings),window.removeEventListener("scroll",scrollHandler,!1),settings.reflow&&window.removeEventListener("resize",resizeHandler,!1),settings=timeout=current=navItems=contents=null};return settings=function(){var merged={};return Array.prototype.forEach.call(arguments,function(obj){for(var key in obj){if(!obj.hasOwnProperty(key))return;merged[key]=obj[key]}}),merged}(defaults,options||{}),publicAPIs.setup(),publicAPIs.detect(),window.addEventListener("scroll",scrollHandler,!1),settings.reflow&&window.addEventListener("resize",resizeHandler,!1),publicAPIs}}),window.SportsLeaguesAdmin=window.SportsLeaguesAdmin||{},function(window,document,$,plugin){"use strict";var $c={};plugin.init=function(){plugin.cache(),plugin.bindEvents()},plugin.cache=function(){$c.window=$(window),$c.body=$(document.body)},plugin.bindEvents=function(){"loading"!==document.readyState?plugin.onPageReady():document.addEventListener("DOMContentLoaded",plugin.onPageReady),$c.body.on("click","[data-sl-recalculate-index-tables]",function(e){e.preventDefault();var $this=$(this);$this.data("oldText",$this.text()),jQuery.ajax({dataType:"json",method:"GET",data:{option:$this.siblings("select").val()},beforeSend:function(xhr){xhr.setRequestHeader("X-WP-Nonce",anwp.rest_nonce),$this.text("processing request ...")},url:anwp.rest_root+"sports-leagues/v1/helper/recalculate-index-tables"}).always(function(){$this.text($this.data("oldText"))}).fail(function(){toastr.error("ERROR !!!")})}),$c.body.on("click","[data-sl-flush-plugin-cache]",function(e){e.preventDefault();var $this=$(this);$this.data("oldText",$this.text()),jQuery.ajax({dataType:"json",method:"GET",beforeSend:function(xhr){xhr.setRequestHeader("X-WP-Nonce",anwp.rest_nonce),$this.text("processing request ...")},url:anwp.rest_root+"sports-leagues/v1/helper/flush-plugin-cache"}).always(function(){$this.text($this.data("oldText"))}).fail(function(){toastr.error("ERROR !!!")})})},plugin.onPageReady=function(){plugin.initNavbarTabs(),plugin.initTooltips(),plugin.initGameListHelper(),plugin.initGameEventModaal(),plugin.initTextSearch(),plugin.tableInputNavigation(),plugin.initDependentOptions(),plugin.initBtnPublishClick(),plugin.initMetaboxScroll(),plugin.initCollapseMenuClick(),plugin.initTournamentCloneModaal()},plugin.initCollapseMenuClick=function(){var btnCollapse=$(".anwp-sl-collapse-menu");btnCollapse.length&&btnCollapse.on("click",function(e){e.preventDefault(),setUserSetting("anwp-sl-collapsed-menu",btnCollapse.closest(".anwp-sl-menu-wrapper").hasClass("anwp-sl-collapsed-menu")?"":"yes"),btnCollapse.closest(".anwp-sl-menu-wrapper").toggleClass("anwp-sl-collapsed-menu")})},plugin.initMetaboxScroll=function(){var metaboxNav=$("#anwp-sl-metabox-page-nav");"undefined"!=typeof Gumshoe&&metaboxNav.length&&new Gumshoe("#anwp-sl-metabox-page-nav a",{navClass:"anwp-sl-metabox-page-nav--active",contentClass:"anwp-scroll-content--active",nested:!1,nestedClass:"",offset:60,reflow:!0,events:!1}),"undefined"!=typeof SmoothScroll&&metaboxNav.length&&new SmoothScroll(".anwp-sl-smooth-scroll",{speed:300,speedAsDuration:!0,offset:50})},plugin.initBtnPublishClick=function(){var btnClick=$("#anwp-publish-click-proxy"),btnPublish=$("#publish"),btnClickNew=(btnClick.length&&btnClick.on("click",function(e){if(e.preventDefault(),btnClick.prop("disabled"))return!1;btnClick.prop("disabled",!0),btnClick.next(".spinner").addClass("is-active"),btnPublish.length&&btnPublish.trigger("click")}),$("#anwp-sl-publish-click-proxy"));btnClickNew.length&&btnClickNew.on("click",function(e){if(e.preventDefault(),btnClickNew.prop("disabled"))return!1;btnClickNew.prop("disabled",!0),btnClickNew.find(".spinner").addClass("is-active"),btnPublish.length&&btnPublish.trigger("click")})},plugin.tableInputNavigation=function(){$(".anwp-input-table").find("td input").on("keyup",function(e){39===e.which?$(this).closest("td").next().find("input").focus():37===e.which?$(this).closest("td").prev().find("input").focus():40===e.which?$(this).closest("tr").next().find("td:eq("+$(this).closest("td").index()+")").find("input").focus():38===e.which&&$(this).closest("tr").prev().find("td:eq("+$(this).closest("td").index()+")").find("input").focus()})},plugin.initTextSearch=function(){var $input=$c.body.find("#anwp-sl-live-text-search");if(!$input.length)return!1;$input.on("input",function(e){e.preventDefault();var filter=$input.val().toLowerCase();return $c.body.find("#sports_leagues_text_metabox .anwp-sl-search-data").each(function(){var $this=$(this),search1=$this.data("search-origin"),search2=$this.data("search-modified");-1!==search1.indexOf(filter)||-1!==search2.indexOf(filter)?$this.closest(".cmb-type-anwp-text").removeClass("d-none"):$this.closest(".cmb-type-anwp-text").addClass("d-none")}),!1})},plugin.initGameListHelper=function(){var inputFrom,inputTo;$c.body.find('input[name="_sl_date_from"]').length&&void 0!==jQuery.datepicker&&(inputFrom=$c.body.find('input[name="_sl_date_from"]'),inputTo=$c.body.find('input[name="_sl_date_to"]'),$(inputFrom).add(inputTo).datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,beforeShow:function(input,inst){inst.dpDiv.addClass("cmb2-element")}}),inputFrom.on("change",function(){inputTo.datepicker("option","minDate",inputFrom.val())}),inputTo.on("change",function(){inputFrom.datepicker("option","maxDate",inputTo.val())}))},plugin.initGameEventModaal=function(){if(!$c.body.find(".anwp-event-modaal").length||void 0===$.fn.modaal)return!1;$c.body.on("click","a.anwp-event-modaal",function(e){var $this=$(this);e.preventDefault(),$c.body.find(".anwp-event-modaal--active").removeClass("anwp-event-modaal--active"),$this.addClass("anwp-event-modaal--active"),$this.modaal({start_open:!0,type:"inline",custom_class:"anwp-b-wrap"})}),$c.body.on("click",".anwp-event-icon-field-icon",function(e){var $this=$(this),$openLink=$c.body.find(".anwp-event-modaal--active");e.preventDefault(),$openLink.removeClass("anwp-event-modaal--active"),$openLink.closest("div.cmb-td").find(".anwp-event-icon-field-value").val($this.data("slug")),$openLink.closest("div.cmb-td").find(".anwp-event-icon-field-wrap").css("background-image",$this.css("background-image")),$openLink.modaal("close")}),$c.body.on("click","a.anwp-event-modaal__remove",function(e){e.preventDefault();e=$(this);e.closest("div.cmb-td").find(".anwp-event-icon-field-value").val(""),e.closest("div.cmb-td").find(".anwp-event-icon-field-wrap").css("background-image","")}),$c.body.find("#events_repeat").on("cmb2_add_row",function(e,$row){$row.find(".anwp-event-modaal__remove").click()})},plugin.initDependentOptions=function(){var $wrapper=$(".anwp-b-wrap");$wrapper.on("change",".anwp-sl-parent-of-dependent",function(){var $parent=$(this);$wrapper.find('.anwp-sl-dependent-field[data-parent="'+$parent.data("name")+'"]').each(function(){var childWrapper=$(this),childDataValue=childWrapper.data("value").split(",");_.contains(childDataValue,$parent.val())&&"show"===childWrapper.data("action")||!_.contains(childDataValue,$parent.val())&&"hide"===childWrapper.data("action")?childWrapper.closest(".cmb-row").removeClass("d-none"):childWrapper.closest(".cmb-row").addClass("d-none")})}),$wrapper.find(".anwp-sl-parent-of-dependent--hidden").removeClass("anwp-sl-parent-of-dependent--hidden"),$wrapper.find(".anwp-sl-parent-of-dependent").trigger("change")},plugin.initTooltips=function(){tippy("[data-sl_tippy]",{arrow:!0,size:"small"})},plugin.initNavbarTabs=function(){if(!$c.body.find(".anwp-metabox-tabs").length)return!1;$c.body.find(".anwp-metabox-tabs").on("click",".anwp-metabox-tabs__control-item",function(e){var $this=$(this),target=$($this.data("target"));if(e.preventDefault(),$this.hasClass("anwp-active-tab"))return!1;$this.addClass("anwp-active-tab").siblings(".anwp-metabox-tabs__control-item").removeClass("anwp-active-tab"),target.removeClass("d-none invisible").siblings(".anwp-metabox-tabs__content-item").addClass("d-none")}),$c.body.find(".anwp-metabox-tabs .anwp-metabox-tabs__control-item:first-child").trigger("click")},plugin.getChildStagesWithGroups=function(tournamentId,targetSelect){targetSelect.closest("div").find(".spinner").addClass("is-active"),$.ajax({dataType:"json",method:"GET",beforeSend:function(xhr){xhr.setRequestHeader("X-WP-Nonce",anwp.rest_nonce)}.bind(this),url:anwp.rest_root+"sports-leagues/v1/get-tournament-groups/"+tournamentId}).done(function(response){targetSelect.empty().append(response)}.bind(this)).fail(function(response){toastr.error(response.responseJSON.message||"Data Error")}).always(function(){targetSelect.closest("div").find(".spinner").removeClass("is-active")}.bind(this))},plugin.initTournamentCloneModaal=function(){var cloneLink=$c.body.find(".anwp-sl-tournament-clone-action");const activeData={link:!1,process:!1};$c.body.find("#anwp-sl-tournament-clone-modaal").length&&cloneLink.length&&(cloneLink.modaal({content_source:"#anwp-sl-tournament-clone-modaal",custom_class:"anwp-sl-shortcode-modal",hide_close:!0,animation:"none"}),cloneLink.on("click",function(e){e.preventDefault(),activeData.link=$(this),activeData.link.modaal("open")}),$("#anwp-sl-tournament-clone-modaal__cancel").on("click",function(e){e.preventDefault(),activeData.link.modaal("close")}),$("#anwp-sl-tournament-clone-modaal__clone").on("click",function(e){if(activeData.process)return!1;activeData.process=!0,e.preventDefault();const $this=$(this);$this.next(".spinner").addClass("is-active"),$.ajax({url:ajaxurl,type:"POST",dataType:"json",data:{action:"sl_clone_tournament",nonce:anwpslGlobals.ajaxNonce,tournament_id:activeData.link.data("tournament-id"),season_id:$c.body.find("#anwp-sl-clone-season-id").val()}}).done(function(response){response.success?location.href=response.data.link:location.reload(),$this.next(".spinner").removeClass("is-active")})}))},$(plugin.init)}(window,document,jQuery,window.SportsLeaguesAdmin),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).SmoothScroll=factory()}(this,function(){"use strict";function extend(){var merged={};return Array.prototype.forEach.call(arguments,function(obj){for(var key in obj){if(!obj.hasOwnProperty(key))return;merged[key]=obj[key]}}),merged}function escapeCharacters(id){"#"===id.charAt(0)&&(id=id.substr(1));for(var codeUnit,string=String(id),length=string.length,index=-1,result="",firstCodeUnit=string.charCodeAt(0);++index<length;){if(0===(codeUnit=string.charCodeAt(index)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");1<=codeUnit&&codeUnit<=31||127==codeUnit||0===index&&48<=codeUnit&&codeUnit<=57||1===index&&48<=codeUnit&&codeUnit<=57&&45===firstCodeUnit?result+="\\"+codeUnit.toString(16)+" ":result+=128<=codeUnit||45===codeUnit||95===codeUnit||48<=codeUnit&&codeUnit<=57||65<=codeUnit&&codeUnit<=90||97<=codeUnit&&codeUnit<=122?string.charAt(index):"\\"+string.charAt(index)}return"#"+result}function adjustFocus(anchor,endLocation,isNum){0===anchor&&document.body.focus(),isNum||(anchor.focus(),document.activeElement!==anchor&&(anchor.setAttribute("tabindex","-1"),anchor.focus(),anchor.style.outline="none"),window.scrollTo(0,endLocation))}function emitEvent(type,options,anchor,toggle){options.emitEvents&&"function"==typeof window.CustomEvent&&(options=new CustomEvent(type,{bubbles:!0,detail:{anchor:anchor,toggle:toggle}}),document.dispatchEvent(options))}var defaults={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},getHeight=function(elem){return parseInt(window.getComputedStyle(elem).height,10)},getDocumentHeight=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)};return function(selector,options){function clickHandler(event){if(!event.defaultPrevented&&!(0!==event.button||event.metaKey||event.ctrlKey||event.shiftKey)&&"closest"in event.target&&(toggle=event.target.closest(selector))&&"a"===toggle.tagName.toLowerCase()&&!event.target.closest(settings.ignore)&&toggle.hostname===window.location.hostname&&toggle.pathname===window.location.pathname&&/#/.test(toggle.href)){var hash,anchor;try{hash=escapeCharacters(decodeURIComponent(toggle.hash))}catch(e){hash=escapeCharacters(toggle.hash)}if("#"===hash){if(!settings.topOnEmptyHash)return;anchor=document.documentElement}else anchor=document.querySelector(hash);(anchor=anchor||"#top"!==hash?anchor:document.documentElement)&&(event.preventDefault(),function(options){var hash;history.replaceState&&options.updateURL&&!history.state&&(hash=(hash=window.location.hash)||"",history.replaceState({smoothScroll:JSON.stringify(options),anchor:hash||window.pageYOffset},document.title,hash||window.location.href))}(settings),smoothScroll.animateScroll(anchor,toggle))}}function popstateHandler(){var anchor;null===history.state||!history.state.smoothScroll||history.state.smoothScroll!==JSON.stringify(settings)||"string"==typeof(anchor=history.state.anchor)&&anchor&&!(anchor=document.querySelector(escapeCharacters(history.state.anchor)))||smoothScroll.animateScroll(anchor,null,{updateURL:!1})}var settings,toggle,fixedHeader,animationInterval,smoothScroll={cancelScroll:function(noEvent){cancelAnimationFrame(animationInterval),animationInterval=null,noEvent||emitEvent("scrollCancel",settings)}};smoothScroll.animateScroll=function(anchor,toggle,options){smoothScroll.cancelScroll();var startLocation,header,endLocation,distance,documentHeight,timeLapsed,speed,start,percentage,stopAnimateScroll,loopAnimateScroll,_settings=extend(settings||defaults,options||{}),isNum="[object Number]"===Object.prototype.toString.call(anchor),options=isNum||!anchor.tagName?null:anchor;(isNum||options)&&(startLocation=window.pageYOffset,_settings.header&&!fixedHeader&&(fixedHeader=document.querySelector(_settings.header)),header=(header=fixedHeader)?getHeight(header)+header.offsetTop:0,endLocation=isNum?anchor:function(anchor,headerHeight,offset,clip){var location=0;if(anchor.offsetParent)for(;location+=anchor.offsetTop,anchor=anchor.offsetParent;);return location=Math.max(location-headerHeight-offset,0),location=clip?Math.min(location,getDocumentHeight()-window.innerHeight):location}(options,header,parseInt("function"==typeof _settings.offset?_settings.offset(anchor,toggle):_settings.offset,10),_settings.clip),distance=endLocation-startLocation,documentHeight=getDocumentHeight(),timeLapsed=0,speed=function(distance,settings){distance=settings.speedAsDuration?settings.speed:Math.abs(distance/1e3*settings.speed);return settings.durationMax&&distance>settings.durationMax?settings.durationMax:settings.durationMin&&distance<settings.durationMin?settings.durationMin:parseInt(distance,10)}(distance,_settings),stopAnimateScroll=function(position,endLocation){var currentLocation=window.pageYOffset;if(position==endLocation||currentLocation==endLocation||(startLocation<endLocation&&window.innerHeight+currentLocation)>=documentHeight)return smoothScroll.cancelScroll(!0),adjustFocus(anchor,endLocation,isNum),emitEvent("scrollStop",_settings,anchor,toggle),!(animationInterval=start=null)},loopAnimateScroll=function(timestamp){var settings,time,pattern;timeLapsed+=timestamp-(start=start||timestamp),percentage=startLocation+distance*(time=1<(percentage=0===speed?0:timeLapsed/speed)?1:percentage,"easeInQuad"===(settings=_settings).easing&&(pattern=time*time),"easeOutQuad"===settings.easing&&(pattern=time*(2-time)),"easeInOutQuad"===settings.easing&&(pattern=time<.5?2*time*time:(4-2*time)*time-1),"easeInCubic"===settings.easing&&(pattern=time*time*time),"easeOutCubic"===settings.easing&&(pattern=--time*time*time+1),"easeInOutCubic"===settings.easing&&(pattern=time<.5?4*time*time*time:(time-1)*(2*time-2)*(2*time-2)+1),"easeInQuart"===settings.easing&&(pattern=time*time*time*time),"easeOutQuart"===settings.easing&&(pattern=1- --time*time*time*time),"easeInOutQuart"===settings.easing&&(pattern=time<.5?8*time*time*time*time:1-8*--time*time*time*time),"easeInQuint"===settings.easing&&(pattern=time*time*time*time*time),"easeOutQuint"===settings.easing&&(pattern=1+--time*time*time*time*time),"easeInOutQuint"===settings.easing&&(pattern=time<.5?16*time*time*time*time*time:1+16*--time*time*time*time*time),(pattern=settings.customEasing?settings.customEasing(time):pattern)||time),window.scrollTo(0,Math.floor(percentage)),stopAnimateScroll(percentage,endLocation)||(animationInterval=window.requestAnimationFrame(loopAnimateScroll),start=timestamp)},0===window.pageYOffset&&window.scrollTo(0,0),function(anchor,isNum,options){isNum||history.pushState&&options.updateURL&&history.pushState({smoothScroll:JSON.stringify(options),anchor:anchor.id},document.title,anchor===document.documentElement?"#top":"#"+anchor.id)}(anchor,isNum,_settings),"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches?adjustFocus(anchor,Math.floor(endLocation),!1):(emitEvent("scrollStart",_settings,anchor,toggle),smoothScroll.cancelScroll(!0),window.requestAnimationFrame(loopAnimateScroll)))},smoothScroll.destroy=function(){settings&&(document.removeEventListener("click",clickHandler,!1),window.removeEventListener("popstate",popstateHandler,!1),smoothScroll.cancelScroll(),animationInterval=fixedHeader=toggle=settings=null)};if("querySelector"in document&&"addEventListener"in window&&"requestAnimationFrame"in window&&"closest"in window.Element.prototype)return smoothScroll.destroy(),settings=extend(defaults,options||{}),fixedHeader=settings.header?document.querySelector(settings.header):null,document.addEventListener("click",clickHandler,!1),settings.updateURL&&settings.popstate&&window.addEventListener("popstate",popstateHandler,!1),smoothScroll;throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs."}});